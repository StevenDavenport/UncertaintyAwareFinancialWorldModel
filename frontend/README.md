# Frontend

Dashboard for interactive gate experimentation and trade review.

## Inputs

- Bundle JSON generated by:
  - `python -m dreamerv3.market.build_frontend_bundle ...`
- Or raw `predictions.csv` uploaded directly in the UI
- For candlestick + trade overlays, run through `experiment_server` so the UI can call:
  - `/api/market/candles`
  - `/api/market/tickers`

## Local Run

```bash
python -m dreamerv3.market.experiment_server \
  --host 127.0.0.1 \
  --port 8000 \
  --repo_root . \
  --market_data_dir data \
  --market_csv_pattern '{ticker}_5m.csv'
```

Open:

- `http://localhost:8000`

## Notes

- To change horizon interactively, include multiple runs (different horizons) in the bundle and switch runs in the dropdown.
- `epsilon` and `cost_buffer` are applied live to compute labels from `future_return`.
- Candlestick view supports mouse wheel zoom and drag pan.
- Candlestick chart rendering uses Plotly (loaded from CDN in `frontend/index.html`).
- Gate sliders update signal markers live; executed trade markers come from `backtest_trades.csv`.
- Experiment Runner exposes eval/backtest controls including `signal_mode`, `stop_mult`, `min_stop`, `trade_cost`, and portfolio risk/leverage caps.
